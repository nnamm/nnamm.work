<!DOCTYPE html>

<html lang="ja">
<head>
<title>Blender｜CPUとGPU（Metal）のレンダリングパフォーマンス比較｜nnamm.work</title>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="Pelican" name="generator"/>
<meta content="652239472256159" name="fb:app_id"/>
<meta content="summary_large_image" name="twitter:card"/>
<meta content="@nnammg" name="twitter:site"/>
<meta content="uAnciPeNieWUtkryWWqFeQkRqIkEEzUX7h4A8bSliWY" name="google-site-verification"/>
<meta content="Blender｜CPUとGPU（Metal）のレンダリングパフォーマンス比較" property="og:title"/>
<meta content="article" property="og:type"/>
<meta content="/posts/014-cpu-metal-rendering-in-blender/" property="og:url"/>
<meta content="https://nnamm.work/images/posts/014/0.jpg" property="og:image"/>
<meta content="nnamm.work" property="og:site_name"/>
<meta content="Metal による Cycles レンダリングのパフォーマンスを検証しました。" property="og:description"/>
<link href="/favicon.ico" rel="shortcut icon"/>
<link href="/apple-touch-icon.png" rel="apple-touch-icon"/>
<link href="/android-chrome-192x192.png" rel="icon" type="image/png"/>
<link href="/theme/css/styles.min.css" rel="stylesheet"/>
<link href="/theme/css/pygments.min.css" rel="stylesheet"/>
</head>
<body>
<header><nav class="flex justify-between items-center inset-x-0 top-0 bg-white border-b border-gray-200">
<a class="inline-flex text-lg font-semibold tracking-wider hover:text-pink-400 transition-colors m-4 pl-2 md:pl-4 lg:pl-8" href="/">
    nnamm.work
  </a>
<button class="pr-4 py-3 focus:outline-none md:hidden" id="mobileMenuButton" title="Open side menu">
<svg class="w-6 h-6 hidden" fill="none" id="mobileMenuButtonClose" stroke="currentColor" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M6 18L18 6M6 6l12 12" stroke-linejoin="round" stroke-width="2"></path>
</svg>
<svg class="w-6 h-6" fill="none" id="mobileMenuButtonOpen" stroke="currentColor" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M4 6h16M4 12h16M4 18h16" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
</button>
<div class="flex flex-col md:flex-row md:items-center absolute top-0 right-0 z-10 bg-white rounded-bl-md md:bg-opacity-0 transition-all duration-500 transform translate-x-0 -translate-y-full md:translate-y-0 w-1/2 md:w-auto px-3 md:px-0 md:mt-2.5 ld:mt-3 md:mx-1 md:pr-8 lg:pr-12" id="sideMenuHideOnMobile">
<a class="text-sm md:ml-6 lg:ml-10 my-2 py-1 border-b border-transparent hover:border-pink-400 hover:text-pink-400 transition-colors duration-200" href="https://thanamura.tumblr.com" target="_blank">
        Portfolio -private-
      </a>
<a class="text-sm md:ml-6 lg:ml-10 my-2 py-1 border-b border-transparent hover:border-pink-400 hover:text-pink-400 transition-colors duration-200" href="https://thanamura-portrait.tumblr.com" target="_blank">
        Portfolio -works-
      </a>
<a class="text-sm md:ml-6 lg:ml-10 my-2 py-1 border-b border-transparent hover:border-pink-400 hover:text-pink-400 transition-colors duration-200" href="https://note.com/tnnamm/m/m2aa9550047ed" target="_blank">
        Stock Photo
      </a>
<a class="text-sm md:ml-6 lg:ml-10 my-2 py-1 border-b border-transparent hover:border-pink-400 hover:text-pink-400 transition-colors duration-200" href="http://localhost:8000/pages/about" target="_self">
        About
      </a>
<a class="text-sm md:ml-6 lg:ml-10 my-2 py-1 border-b border-transparent hover:border-pink-400 hover:text-pink-400 transition-colors duration-200" href="http://localhost:8000/pages/privacy-policy" target="_self">
        Privacy Policy
      </a>
</div>
</nav></header>
<article>
<header class="flex flex-col pt-12 md:pt-20 pb-12">
<h1 class="palt text-2xl md:text-3xl font-semibold w-full md:max-w-3xl md:mx-auto px-4 md:px-10 mb-4">
        Blender｜CPUとGPU（Metal）のレンダリングパフォーマンス比較</h1>
<div class="flex items-center w-full md:max-w-3xl md:mx-auto px-4 md:px-10 mb-10">
<img alt="Profile image of Takashi Hanamura" class="image-process-crisp w-10 md:w-12 h-10 md:h-12 rounded-full mr-2 md:mr-4" loading="lazy" src="/images/derivatives/crisp/1x/profile_small.jpg" srcset="/images/derivatives/crisp/1x/profile_small.jpg 1x, /images/derivatives/crisp/2x/profile_small.jpg 2x, /images/derivatives/crisp/3x/profile_small.jpg 3x"/>
<div class="text-xs text-gray-500">
<span class="block mb-1">花村貴史 / Takashi Hanamura</span>
<span class="block">
            2022/07/12
          </span>
</div>
</div>
<img alt="Eye catching image for this article" class="image-process-default w-full max-w-full md:max-w-4xl lg:max-w-5xl md:mx-auto md:rounded" loading="lazy" src="../../images/posts/014/derivatives/default/1x/0.jpg" srcset="../../images/posts/014/derivatives/default/1x/0.jpg 1x, ../../images/posts/014/derivatives/default/2x/0.jpg 2x, ../../images/posts/014/derivatives/default/3x/0.jpg 3x"/>
</header>
<div class="hidden xl:flex xl:justify-center xl:sticky xl:top-4">
<div class="profile-box w-full max-w-screen-xl pointer-events-none">
<div class="flex flex-col items-center mx-auto absolute w-56 mt-12 ml-3 pointer-events-auto">
<img alt="Profile image of Takashi Hanamura" class="image-process-crisp w-32 h-32 rounded-full mb-6" loading="lazy" src="/images/derivatives/crisp/1x/profile_large_old.jpg" srcset="/images/derivatives/crisp/1x/profile_large_old.jpg 1x, /images/derivatives/crisp/2x/profile_large_old.jpg 2x, /images/derivatives/crisp/3x/profile_large_old.jpg 3x"/>
<p class="text-sm leading-relaxed font-semibold mb-2">花村貴史 / Takashi Hanamura</p>
<p class="text-xs leading-relaxed text-gray-500 mb-4">ソフトウェアエンジニア＆空気感フォトグラファー。オシゴトは SAP ですが、プライベートでは Python/Golang/TS/JS 周辺を嗜みつつ、人や場の「空気感」をそっとすくい撮ることを得意としています。</p>
<hr class="w-full mb-4"/>
<div class="flex">
<a href="https://nnamm.com" target="_blank">
<svg class="aside-external-link mr-4" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M2.597 7.81l4.911 13.454c-3.434-1.668-5.802-.19-5.802-9.264 0-1.493.32-2.91.891-4.19zm16.352 3.67c0-1.272-.457-2.153-.849-2.839-.521-.849-1.011-1.566-1.011-2.415 0-.978.747-1.88 1.862-1.819-1.831-1.677-4.271-2.701-6.951-2.701-3.596 0-6.76 1.845-8.601 4.64.625.02 1.489.032 3.406-.118.555-.034.62.782.066.847 0 0-.558.065-1.178.098l3.749 11.15 2.253-6.756-1.604-4.394c-.555-.033-1.08-.098-1.08-.098-.555-.033-.49-.881.065-.848 2.212.17 3.271.171 5.455 0 .555-.033.621.783.066.848 0 0-.559.065-1.178.098l3.72 11.065 1.027-3.431c.444-1.423.783-2.446.783-3.327zm-6.768 1.42l-3.089 8.975c.922.271 1.898.419 2.908.419 1.199 0 2.349-.207 3.418-.583-.086-.139-3.181-8.657-3.237-8.811zm8.852-5.839c.224 1.651-.099 3.208-.713 4.746l-3.145 9.091c3.061-1.784 5.119-5.1 5.119-8.898 0-1.79-.457-3.473-1.261-4.939zm2.967 4.939c0 6.617-5.384 12-12 12s-12-5.383-12-12 5.383-12 12-12 12 5.383 12 12zm-.55 0c0-6.313-5.137-11.45-11.45-11.45s-11.45 5.137-11.45 11.45 5.137 11.45 11.45 11.45 11.45-5.137 11.45-11.45z"></path>
</svg>
</a>
<a href="https://www.facebook.com/t.hanamura.photography/" target="_blank">
<svg class="aside-external-link mr-4" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm3 8h-1.35c-.538 0-.65.221-.65.778v1.222h2l-.209 2h-1.791v7h-3v-7h-2v-2h2v-2.308c0-1.769.931-2.692 3.029-2.692h1.971v3z"></path>
</svg>
</a>
<a href="https://twitter.com/nnammg" target="_blank">
<svg class="aside-external-link mr-4" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z">
</path>
</svg>
</a>
<a href="https://github.com/nnamm" target="_blank">
<svg class="aside-external-link mr-4" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path>
</svg>
</a>
<a href="https://www.youtube.com/channel/UCvXy78MlFBKnNDMcSrqnOnA" target="_blank">
<svg class="aside-external-link" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"></path>
</svg>
</a>
</div>
</div>
</div>
</div> <div class="entry-content w-full md:max-w-3xl md:mx-auto px-4 md:px-10">
<p><a href="https://www.blender.org/" target="_blank">Blender</a> 3.1 から Cycles の GPU レンダリングに <a href="https://developer.apple.com/jp/metal/" target="_blank">Metal</a> が選択できるようになりました。v3.2.1 となった現在、動作も安定してきたはず。そこでデモファイルや手持ちのデータを使ってパフォーマンスを検証してみることに。</p>
<p>結論からいうと、<strong>僕の環境では CPU only とくらべて、2.2〜2.6 倍ほどレンダリングパフォーマンスが向上しました。</strong></p>
<h2 id="_1">検証環境</h2>
<ul>
<li>Macbook Pro 2018 年モデル<ul>
<li>2.6 GHz 6 コア Intel Core i7</li>
<li>32GB メモリ</li>
<li>Radeon Pro Vega 20 (4GB)</li>
</ul>
</li>
<li>macOS Monterey 12.4</li>
<li>Blender 3.2.1</li>
</ul>
<p>GPU レンダリング（ Metal ）に対応しているマシンは、Apple silicon か AMD の GPU を搭載しているものになります。対応していれば Preferences に Metal が表示されるはずです。</p>
<p><img alt="" class="image-process-crisp" loading="lazy" src="../../images/posts/014/derivatives/crisp/1x/1.jpg" srcset="../../images/posts/014/derivatives/crisp/1x/1.jpg 1x, ../../images/posts/014/derivatives/crisp/2x/1.jpg 2x, ../../images/posts/014/derivatives/crisp/3x/1.jpg 3x"/></p>
<h3 id="metal">（注） Metal の初回有効時は待たされます</h3>
<p>はじめて Metal を有効にすると、画面左上に「Loading render kernels」と表示されてしばらく待たされます。Blender がハングしてるわけではないので、5 分程度待つといいですよ。</p>
<h2 id="_2">デモファイルのパフォーマンス検証</h2>
<p><a href="https://www.blender.org/download/demo-files/" target="_blank">Demo Files — blender.org</a> から Classroom をチョイス。</p>
<blockquote>
<p>以降「CPU only」と表記したものは上図の Cycles Render Devices を None、「GPU only」は Vega 20 のみを ON、「CPU + GPU」は 2 箇所とも ON にしたことを指します。</p>
</blockquote>
<h3 id="1cpu-onlytime-152824">① CPU only ／ Time 15:28.24</h3>
<p><img alt="" class="image-process-crisp" loading="lazy" src="../../images/posts/014/derivatives/crisp/1x/2.jpg" srcset="../../images/posts/014/derivatives/crisp/1x/2.jpg 1x, ../../images/posts/014/derivatives/crisp/2x/2.jpg 2x, ../../images/posts/014/derivatives/crisp/3x/2.jpg 3x"/></p>
<p>CPU は全コアが常に 100%でした。</p>
<p><img alt="" class="image-process-crisp" loading="lazy" src="../../images/posts/014/derivatives/crisp/1x/3.jpg" srcset="../../images/posts/014/derivatives/crisp/1x/3.jpg 1x, ../../images/posts/014/derivatives/crisp/2x/3.jpg 2x, ../../images/posts/014/derivatives/crisp/3x/3.jpg 3x"/></p>
<h3 id="2cpu-gputime-63467">② CPU + GPU ／ Time 6:34.67</h3>
<p>2.4 倍ほど高速。40%強の時間短縮になりました。</p>
<p><img alt="" class="image-process-crisp" loading="lazy" src="../../images/posts/014/derivatives/crisp/1x/4.jpg" srcset="../../images/posts/014/derivatives/crisp/1x/4.jpg 1x, ../../images/posts/014/derivatives/crisp/2x/4.jpg 2x, ../../images/posts/014/derivatives/crisp/3x/4.jpg 3x"/></p>
<p>CPU only とくらべて CPU は 100 ％ではないものの、GPU とともに程よく動いていた感じ。挙動の違いが興味深いです。</p>
<p><img alt="" class="image-process-crisp" loading="lazy" src="../../images/posts/014/derivatives/crisp/1x/5.jpg" srcset="../../images/posts/014/derivatives/crisp/1x/5.jpg 1x, ../../images/posts/014/derivatives/crisp/2x/5.jpg 2x, ../../images/posts/014/derivatives/crisp/3x/5.jpg 3x"/></p>
<p>確実に性能アップすることがわかったので、自分の作品でも検証してみました。</p>
<h2 id="_3">過去作品のパフォーマンス検証</h2>
<p><img alt="" class="image-process-crisp" loading="lazy" src="../../images/posts/014/derivatives/crisp/1x/6.jpg" srcset="../../images/posts/014/derivatives/crisp/1x/6.jpg 1x, ../../images/posts/014/derivatives/crisp/2x/6.jpg 2x, ../../images/posts/014/derivatives/crisp/3x/6.jpg 3x"/></p>
<table>
<thead>
<tr>
<th>Pattern</th>
<th>Time (mm:ss.ms)</th>
<th>Mem</th>
<th>Peak</th>
<th>faster than CPU only</th>
</tr>
</thead>
<tbody>
<tr>
<td>CPU only</td>
<td>1:44.66</td>
<td>104.66M</td>
<td>104.66M</td>
<td>-</td>
</tr>
<tr>
<td>GPU only</td>
<td>0:57.07</td>
<td>768.18M</td>
<td>768.18M</td>
<td>x1.8</td>
</tr>
<tr>
<td>CPU + GPU</td>
<td>0:44.35</td>
<td>18.57M</td>
<td>100.96M</td>
<td>x2.4</td>
</tr>
</tbody>
</table>
<p><img alt="" class="image-process-crisp" loading="lazy" src="../../images/posts/014/derivatives/crisp/1x/7.jpg" srcset="../../images/posts/014/derivatives/crisp/1x/7.jpg 1x, ../../images/posts/014/derivatives/crisp/2x/7.jpg 2x, ../../images/posts/014/derivatives/crisp/3x/7.jpg 3x"/></p>
<table>
<thead>
<tr>
<th>Pattern</th>
<th>Time (mm:ss.ms)</th>
<th>Mem</th>
<th>Peak</th>
<th>faster than CPU only</th>
</tr>
</thead>
<tbody>
<tr>
<td>CPU only</td>
<td>16:16.41</td>
<td>119.38M</td>
<td>119.38M</td>
<td>-</td>
</tr>
<tr>
<td>GPU only</td>
<td>9:18.00</td>
<td>791.34M</td>
<td>791.34M</td>
<td>x1.7</td>
</tr>
<tr>
<td>CPU + GPU</td>
<td>7:18.66</td>
<td>0.71M</td>
<td>119.37M</td>
<td>x2.2</td>
</tr>
</tbody>
</table>
<p><img alt="" class="image-process-crisp" loading="lazy" src="../../images/posts/014/derivatives/crisp/1x/8.jpg" srcset="../../images/posts/014/derivatives/crisp/1x/8.jpg 1x, ../../images/posts/014/derivatives/crisp/2x/8.jpg 2x, ../../images/posts/014/derivatives/crisp/3x/8.jpg 3x"/></p>
<table>
<thead>
<tr>
<th>Pattern</th>
<th>Time (mm:ss.ms)</th>
<th>Mem</th>
<th>Peak</th>
<th>faster than CPU only</th>
</tr>
</thead>
<tbody>
<tr>
<td>CPU only</td>
<td>1:24.26</td>
<td>73.93M</td>
<td>73.93M</td>
<td>-</td>
</tr>
<tr>
<td>GPU only</td>
<td>0:45.69</td>
<td>737.04M</td>
<td>737.04M</td>
<td>x1.8</td>
</tr>
<tr>
<td>CPU + GPU</td>
<td>0:32.21</td>
<td>10.78M</td>
<td>72.57M</td>
<td>x2.6</td>
</tr>
</tbody>
</table>
<h2 id="_4">考察</h2>
<p>Metal によるレンダリング性能を見てきました。</p>
<p><strong>結果的に「CPU + GPU」が一番性能を出せるということがわかりました。</strong>僕と同じ環境の方は両方 ON にすることをおすすめします。</p>
<p>検証をふりかえると、CPU や GPU の使われ方が違っていたり、GPU only ではメモリを多く消費するなど挙動の違いがありましたね。おそらく、GPU のメモリが 4GB しかないため、メモリが多く必要なのでしょう。</p>
<h2 id="_5">おわりに</h2>
<p>CG 制作には依然として Windows や Linux の方が向いていると僕は思います。価格、性能、パーツの豊富さなどが理由です。時間は有限ですから、質を上げるために何度も試行錯誤したり、短時間で最終出力をするためにはやはり性能が最優先事項になります。</p>
<p>でも、Blender で Metal が有効に機能するようになって、macOS でも CG 制作はしやすくなると感じました。用途次第では Mac でも充分楽しめます。</p>
<p>僕は Metal でレンダリングされるようになって嬉しいです。開発者のみなさんに感謝！</p>
<blockquote>
<p>Intel 製の Macbook ではレンダリング時のファンノイズがめっちゃ気になります。Apple Silicon マシンが欲しくなりましたね。<br/>Python や Golang で開発する分には困っていませんが、Lightroom Classic がもっさり動くようになってきたのはちょっと辛い。そろそろリプレースに本腰を入れるときかな。</p>
</blockquote>
</div>
<div class="w-full md:max-w-3xl md:mx-auto mt-12 mb-20 px-4 md:px-10">
<div>
<svg class="inline-block w-4 h-4 fill-current text-gray-700 py-0.5" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M11 5c-1.629 0-2.305-1.058-4-3h-7v20h24v-17h-13z"></path>
</svg>
<a class="metadata-category-link inline-block mr-2" href="/category/blender.html">
    Blender
  </a>
<div class="inline md:hidden"><br/></div>
<svg class="inline-block w-4 h-4 fill-current text-gray-700 py-0.5" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M10.605 0h-10.605v10.609l13.391 13.391 10.609-10.604-13.395-13.396zm-4.191 6.414c-.781.781-2.046.781-2.829.001-.781-.783-.781-2.048 0-2.829.782-.782 2.048-.781 2.829-.001.782.782.781 2.047 0 2.829z"></path>
</svg>
<a class="metadata-tags-link inline-block" href="/tag/blender.html">
      Blender
    </a>
<a class="metadata-tags-link inline-block" href="/tag/macos.html">
      macOS
    </a>
<a class="metadata-tags-link inline-block" href="/tag/metal.html">
      Metal
    </a>
</div> </div>
</article>
<footer><div class="flex flex-col justify-center items-center bg-white border-t border-gray-200 mt-8 pt-12 pb-8">
<div class="flex flex-row justify-evenly w-7/12 md:w-4/12 mb-8">
<a href="https://nnamm.com" target="_blank">
<svg class="footer-external-link" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M2.597 7.81l4.911 13.454c-3.434-1.668-5.802-.19-5.802-9.264 0-1.493.32-2.91.891-4.19zm16.352 3.67c0-1.272-.457-2.153-.849-2.839-.521-.849-1.011-1.566-1.011-2.415 0-.978.747-1.88 1.862-1.819-1.831-1.677-4.271-2.701-6.951-2.701-3.596 0-6.76 1.845-8.601 4.64.625.02 1.489.032 3.406-.118.555-.034.62.782.066.847 0 0-.558.065-1.178.098l3.749 11.15 2.253-6.756-1.604-4.394c-.555-.033-1.08-.098-1.08-.098-.555-.033-.49-.881.065-.848 2.212.17 3.271.171 5.455 0 .555-.033.621.783.066.848 0 0-.559.065-1.178.098l3.72 11.065 1.027-3.431c.444-1.423.783-2.446.783-3.327zm-6.768 1.42l-3.089 8.975c.922.271 1.898.419 2.908.419 1.199 0 2.349-.207 3.418-.583-.086-.139-3.181-8.657-3.237-8.811zm8.852-5.839c.224 1.651-.099 3.208-.713 4.746l-3.145 9.091c3.061-1.784 5.119-5.1 5.119-8.898 0-1.79-.457-3.473-1.261-4.939zm2.967 4.939c0 6.617-5.384 12-12 12s-12-5.383-12-12 5.383-12 12-12 12 5.383 12 12zm-.55 0c0-6.313-5.137-11.45-11.45-11.45s-11.45 5.137-11.45 11.45 5.137 11.45 11.45 11.45 11.45-5.137 11.45-11.45z"></path>
</svg>
</a>
<a href="https://www.facebook.com/t.hanamura.photography/" target="_blank">
<svg class="footer-external-link" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm3 8h-1.35c-.538 0-.65.221-.65.778v1.222h2l-.209 2h-1.791v7h-3v-7h-2v-2h2v-2.308c0-1.769.931-2.692 3.029-2.692h1.971v3z"></path>
</svg>
</a>
<a href="https://twitter.com/nnammg" target="_blank">
<svg class="footer-external-link" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z">
</path>
</svg>
</a>
<a href="https://github.com/nnamm" target="_blank">
<svg class="footer-external-link" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path>
</svg>
</a>
<a href="https://www.youtube.com/channel/UCvXy78MlFBKnNDMcSrqnOnA" target="_blank">
<svg class="footer-external-link" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"></path>
</svg>
</a>
</div>
<div class="flex flex-col text-center">
<address class="text-xs not-italic mb-2">
      Powered by <a class="underline" href="https://getpelican.com/" target="_blank">Pelican</a>,
      which takes great advantage of <a class="underline" href="https://www.python.org/" target="_blank">Python</a>.
    </address>
<small><a class="hover:text-pink-400 transition-colors" href="/">nnamm.work</a> ©2020</small>
</div>
</div></footer>
<script>
  let mobileMenuButton = document.getElementById('mobileMenuButton')
  mobileMenuButton.onclick = function () {
    document.getElementById('sideMenuHideOnMobile').classList.toggle('-translate-y-full')
    document.getElementById('sideMenuHideOnMobile').classList.toggle('mt-12')
    document.getElementById('sideMenuHideOnMobile').classList.toggle('shadow')
    document.getElementById('mobileMenuButtonClose').classList.toggle('hidden')
    document.getElementById('mobileMenuButtonOpen').classList.toggle('hidden')
  }
  // Hide element when click outside nav
  let theElementContainer = document.getElementsByTagName('nav')[0]
  document.addEventListener('click', function (event) {
    if (!theElementContainer.contains(event.target)) {
      document.getElementById('sideMenuHideOnMobile').classList.add('-translate-y-full')
      document.getElementById('sideMenuHideOnMobile').classList.remove('mt-12')
      document.getElementById('sideMenuHideOnMobile').classList.remove('shadow')
      document.getElementById('mobileMenuButtonOpen').classList.remove('hidden')
      document.getElementById('mobileMenuButtonClose').classList.add('hidden')
    }
  })
</script>
<script>
  window.addEventListener('load', () => {
    viewSlide('.slideshow img')
  })

  function viewSlide(className, slideNo = -1) {
    let imgArray = document.querySelectorAll(className)
    if (imgArray.length) {
      if (slideNo >= 0) {
        imgArray[slideNo].style.opacity = '0'
      }
      slideNo++
      if (slideNo >= imgArray.length) {
        slideNo = 0
      }
      imgArray[slideNo].style.opacity = '1'
      let msec = 5000
      setTimeout(() => {
        viewSlide(className, slideNo)
      }, msec)
    }
  }
</script>
<script>
  let scrollAnimationElm = document.querySelectorAll('.profile-box')
  let scrollAnimationFunc = () => {
    for (let i = 0; i < scrollAnimationElm.length; i++) {
      let triggerMargin = 600
      if (window.innerHeight > scrollAnimationElm[i].getBoundingClientRect().top + triggerMargin) {
        scrollAnimationElm[i].classList.add('show')
      }
    }
  }
  window.addEventListener('load', scrollAnimationFunc)
  window.addEventListener('scroll', scrollAnimationFunc)
</script>
</body>
</html>